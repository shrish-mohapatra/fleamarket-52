(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{378:function(e,t,a){e.exports=a(704)},383:function(e,t,a){},703:function(e,t,a){},704:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(23),o=a.n(c),l=(a(383),a(13)),s=a(41),i=a(707),u=a(82),m=a(716),d=a(723),p=a(724),f=a(725),E=a(40),h=a.n(E),g=a(57),b=a(31),v=a(39),k=a(87);function y(){var e=Object(k.a)(["\n        mutation Signup($email: String!, $password: String!) {\n            signup(email: $email, password: $password) {\n                message            \n                userID\n                token\n            }\n        }"]);return y=function(){return e},e}function O(){var e=Object(k.a)(["\n        mutation Login($email: String!, $password: String!) {\n            login(email: $email, password: $password) {\n                message            \n                userID\n                token\n            }\n        }"]);return O=function(){return e},e}var w={login:Object(v.gql)(O()),signup:Object(v.gql)(y())},j=Object(n.createContext)({userID:"",token:""}),I=function(e){var t=e.children,a=Object(n.useState)(""),c=Object(b.a)(a,2),o=c[0],l=c[1],s=Object(n.useState)(""),i=Object(b.a)(s,2),u=i[0],m=i[1],d=Object(v.useMutation)(w.login),p=Object(b.a)(d,1)[0],f=Object(v.useMutation)(w.signup),E=Object(b.a)(f,1)[0],k=function(e){localStorage.setItem("token",e.token),localStorage.setItem("userID",e.userID),l(e.userID),m(e.setToken)};return r.a.createElement(j.Provider,{value:{userID:o,token:u,login:function(){var e=Object(g.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p({variables:t});case 3:a=e.sent,k(a.data.login),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),signup:function(){var e=Object(g.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E({variables:t});case 3:a=e.sent,k(a.data.signup),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),updateToken:function(e){localStorage.setItem("token",e),m(e)},local_auth:function(){var e=localStorage.getItem("token"),t=localStorage.getItem("userID");return!(!e||!t)&&(m(e),l(t),{token:e,userID:t})},logout:function(){l(""),m(""),localStorage.clear()}}},t)};function N(){var e=Object(k.a)(["\n        mutation changeBalance(\n            $accountID: String!,\n            $amount: Int!,\n        ) {\n            changeBalance(\n                accountID: $accountID,\n                amount: $amount,\n            ) {\n                balance\n            }\n        }"]);return N=function(){return e},e}function x(){var e=Object(k.a)(["\n        mutation createOrder(\n            $accountID: String!,\n            $stockID: String!,\n            $action: String!,\n            $quantity: Int!,\n            $price: Int,\n            $expiry: String\n        ) {\n            createOrder(\n                accountID: $accountID,\n                stockID: $stockID,\n                action: $action,\n                quantity: $quantity,\n                price: $price,\n                expiry: $expiry\n            ) {\n                stock{\n                    ticker\n                }\n            }\n        }"]);return x=function(){return e},e}function S(){var e=Object(k.a)(["\n        query stock($stockID: ID!) {\n            stock(id: $stockID) {\n                data {\n                    date\n                    ask\n                    bid\n                }\n            }\n        }"]);return S=function(){return e},e}function $(){var e=Object(k.a)(["\n        query stocks {\n            stocks {\n                id\n                ticker\n                name\n                price\n                change\n                open\n                high\n                low\n                ask\n                bid\n                data {\n                    date\n                    ask\n                    bid\n                }\n            }\n        }"]);return $=function(){return e},e}function C(){var e=Object(k.a)(["\n        query user($userID: ID!) {\n            user(id: $userID) {\n                email            \n                accounts{\n                    id\n                    balance\n                    portfolio{\n                        id\n                        shares\n                    }\n                }\n            }\n        }"]);return C=function(){return e},e}var D={getUser:Object(v.gql)(C()),getStocks:Object(v.gql)($()),getStock:Object(v.gql)(S()),createOrder:Object(v.gql)(x()),changeBalance:Object(v.gql)(N())},T=a(711),P=Object(n.createContext)({user:null,showPortfolio:!0,stockRef:0,stocks:[],stockData:[]}),q=function(e){var t=e.children,a=Object(n.useContext)(j),c=a.userID,o=a.logout,l=Object(v.useQuery)(D.getUser,{variables:{userID:c},pollInterval:500}),s=Object(v.useQuery)(D.getStocks,{pollInterval:500}),i=Object(v.useMutation)(D.createOrder),u=Object(b.a)(i,1)[0],m=Object(v.useMutation)(D.changeBalance),d=Object(b.a)(m,1)[0];Object(n.useEffect)((function(){s.error&&c&&(T.a.error({message:"Authentication Error",description:"Your session has expired, please sign in again."}),o())}),[s.error]);var p=Object(n.useState)(0),f=Object(b.a)(p,2),E=f[0],k=f[1],y=Object(n.useState)(!0),O=Object(b.a)(y,2),w=O[0],I=O[1];return r.a.createElement(P.Provider,{value:{user:l,stockRef:E,stocks:s,showPortfolio:w,selectStock:function(e){k(e)},createOrder:function(){var e=Object(g.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u({variables:t});case 3:a=e.sent,T.a.info({message:"Order Status",description:"Your order for ".concat(a.data.createOrder.stock.ticker," has been created.")}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message),T.a.error({message:"Order Status",description:"Something went wrong, order could not be created."});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),changeBalance:function(){var e=Object(g.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={accountID:null===l||void 0===l?void 0:l.data.user.accounts[0].id,amount:parseInt(t)},e.prev=1,e.next=4,d({variables:a});case 4:e.sent,e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0.message),T.a.error({message:"Transaction Status",description:"Insufficient funds."});case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),setShowPortfolio:I}},t)};var A=function(){var e=Object(s.g)(),t=Object(s.h)(),a=Object(n.useContext)(j).logout,c=Object(n.useContext)(P).setShowPortfolio,o=function(){var a=t.pathname;"/home"!==a&&"/home/stock"!==a&&e.push("/home/stock")};return r.a.createElement(m.a,{className:"sidebar-menu",mode:"inline",defaultSelectedKeys:["dash-portfolio"],defaultOpenKeys:["dashboard"]},r.a.createElement(m.a.SubMenu,{key:"dashboard",title:"Dashboard",icon:r.a.createElement(d.a,null),onClick:o},r.a.createElement(m.a.Item,{key:"dash-portfolio",onClick:function(){return c(!0)}},"My Portfolio"),r.a.createElement(m.a.Item,{key:"dash-all",onClick:function(){return c(!1)}},"All Stocks")),r.a.createElement(m.a.Item,{key:"orders",icon:r.a.createElement(p.a,null)},"Orders",r.a.createElement(u.b,{to:"/home/order"})),r.a.createElement(m.a.Item,{key:"logout",icon:r.a.createElement(f.a,null)},"Logout",r.a.createElement(u.b,{to:"/auth",onClick:a})))},B=a(714),F=a(717),M=a(726);var L=function(){var e=Object(n.useContext)(P).user;return r.a.createElement("div",{className:"profile"},r.a.createElement(B.a,{loading:e.loading,active:!0,avatar:!0},r.a.createElement(F.a,{className:"profile-avatar",size:48,shape:"square",icon:r.a.createElement(M.a,null)}),function(){if(e.data){var t=e.data.user;return r.a.createElement("div",{className:"profile-info"},r.a.createElement("p",{className:"info-name"},t.email),r.a.createElement("p",{className:"info-balance"},"$",(t.accounts[0].balance/100).toFixed(2)))}}()))},V=i.a.Sider;var G=function(){return r.a.createElement(V,{className:"sidebar",theme:"light",trigger:null},r.a.createElement("div",{className:"sidebar-header"},r.a.createElement("p",null,"fleamarket 52")),r.a.createElement("div",{className:"sidebar-content"},r.a.createElement(A,null),r.a.createElement(L,null)))};var R=function(e){var t=e.props,a=t.stock,c=t.index,o=Object(n.useContext)(P),l=o.selectStock,s=o.stockRef;return r.a.createElement("div",{className:c===s?"stockcard-selected":"stockcard",onClick:function(){return l(c)}},r.a.createElement("p",{className:"stockcard-ticker"},a.ticker),function(e){var t=e>0?"green":"red",a=(e>0?"+":"-")+Math.abs(e/100);return r.a.createElement("p",{className:"stockcard-change",style:{color:t},key:"stockchange-".concat(c)},a,"%")}(a.change),r.a.createElement("p",{className:"stockcard-price"},"$",a.price/100))},W=i.a.Sider;var Y=function(){var e=Object(n.useContext)(P),t=e.stocks,a=e.user,c=e.showPortfolio;return r.a.createElement(W,{className:"stockbar",theme:"light",trigger:null},r.a.createElement("div",{className:"stockbar-menu"},r.a.createElement(B.a,{loading:t.loading,active:!0},function(){if(t.data&&a.data)return r.a.createElement(r.a.Fragment,null,t.data.stocks.map((function(e,t){if(function(e){if(!c)return!0;for(var t=a.data.user.accounts[0].portfolio,n=0;n<t.length;n++)if(t[n].id===e.id)return!0;return!1}(e))return r.a.createElement(R,{key:"stockcard-".concat(t),props:{stock:e,index:t}})})))}())))},K=a(128),U=a(70),_=a(720);var J=function(e){var t=e.stock,a=Object(n.useContext)(P).user;return r.a.createElement("div",{className:"stockview-header"},r.a.createElement("div",null,r.a.createElement("p",{className:"stockview-title"},t.name),r.a.createElement("p",{className:"stockview-shares"},function(){if(!a.loading){for(var e=a.data.user.accounts[0].portfolio,n=0;n<e.length;n++)if(e[n].id===t.id)return"You own ".concat(e[n].shares," shares of ").concat(t.ticker);return"You do not own any shares of ".concat(t.ticker)}}())),r.a.createElement("div",null,r.a.createElement("p",{className:"stockview-price"},"$",t.price/100),function(e){var t=e.change,a=e.price;a/=100;var n=(t/=100)>0?"green":"red",c=t>0?"+":"-",o=Math.abs(t),l=c+"$"+(o*a*.01).toFixed(2);return r.a.createElement("p",{className:"stockview-change",style:{color:n,textAlign:"right"}},l," (",o,"%)")}(t)))},Q=a(99),z=a(98);var H=function(e){var t=e.stock,a=Object(n.useState)([]),c=Object(b.a)(a,2),o=c[0],l=c[1];return Object(n.useEffect)((function(){for(var e=t.data,a=[],n=e.length-1;n>=0;n--)a.push({name:z(e[n].date).format("MMM Do"),price:e[n].ask/100});l(a)}),[t]),r.a.createElement(Q.d,{height:500,width:"100%"},r.a.createElement(Q.b,{data:o},r.a.createElement("defs",null,r.a.createElement("linearGradient",{id:"colorStock",x1:"0",y1:"0",x2:"0",y2:"1"},r.a.createElement("stop",{offset:"5%",stopColor:"#BA9781",stopOpacity:.8}),r.a.createElement("stop",{offset:"95%",stopColor:"#BA9781",stopOpacity:0}))),r.a.createElement(Q.c,{strokeDasharray:"3 3"}),r.a.createElement(Q.f,{dataKey:"name",interval:1}),r.a.createElement(Q.g,{type:"number",domain:["dataMin - 10","dataMax + 10"]}),r.a.createElement(Q.e,null),r.a.createElement(Q.a,{isAnimationActive:!0,type:"monotone",dataKey:"price",stroke:"#BA9781",fillOpacity:1,fill:"url(#colorStock)"})))},X=a(719),Z=X.a.Item,ee=["open","ask","bid","high","low","volume"];var te=function(e){var t=e.stock;return r.a.createElement(X.a,{className:"stockview-stats",layout:"vertical",bordered:!0},ee.map((function(e,a){return r.a.createElement(Z,{label:e.charAt(0).toUpperCase()+e.slice(1),key:"desc-item-".concat(a)},t[e]?t[e]/100:"N/A")})))},ae=a(713),ne=a(708),re=a(142);var ce=function(e){var t=e.stock,a=Object(n.useContext)(P),c=a.createOrder,o=a.user,l=Object(n.useState)(0),s=Object(b.a)(l,2),i=s[0],u=s[1],m=function(e){0!==i&&(c({accountID:o.data.user.accounts[0].id,stockID:t.id,action:e,quantity:i}),u(0))};return r.a.createElement("div",{className:"stockview-order-form"},r.a.createElement("div",{className:"stockorder-form-item"},r.a.createElement("p",null,"Shares"),r.a.createElement(ae.a,{className:"stockorder-input",value:i,onChange:function(e){return u(e)},size:"small",min:0,max:99})),r.a.createElement("div",{className:"stockorder-form-item"},r.a.createElement("p",null,"Market Price"),r.a.createElement("p",null,"$",t.price/100)),r.a.createElement(ne.a,{className:"stockorder-divider"}),r.a.createElement("div",{className:"stockorder-form-item"},r.a.createElement("p",null,"Estimated Total"),r.a.createElement("p",null,"$",(i*t.price/100).toFixed(2))),r.a.createElement("div",{className:"stockorder-btn-group"},r.a.createElement(re.a,{className:"stockorder-btn",type:"primary",onClick:function(){return m("buy")}},"Confirm Buy"),r.a.createElement(re.a,{className:"stockorder-btn",onClick:function(){return m("sell")}},"Confirm Sell")))};var oe=function(e){var t=e.stock,a=Object(n.useState)([]),c=Object(b.a)(a,2),o=c[0],l=c[1];return Object(n.useEffect)((function(){var e=[{headline:"".concat(t.name," declares 4:1 stock split..."),author:"The Verge",date:"Oct 1"},{headline:"".concat(t.name," slumps at keynote event..."),author:"Wall Street Journal",date:"Oct 3"},{headline:"Big investor sells ".concat(t.name," shares..."),author:"The Verge",date:"Oct 3"},{headline:"".concat(t.name," announces new CEO amid..."),author:"New York Times",date:"Oct 4"},{headline:"".concat(t.name," underfire for insider trading..."),author:"The Verge",date:"Oct 5"},{headline:"".concat(t.name," bounces back from slump..."),author:"The Verge",date:"Oct 5"},{headline:"".concat(t.name," announces new device..."),author:"The Verge",date:"Oct 7"}];l(e)}),[t]),r.a.createElement("div",{className:"stockview-news"},o.reverse().map((function(e,t){return r.a.createElement("div",{className:"news-card",key:"stockview-".concat(t)},r.a.createElement("p",null,e.headline),r.a.createElement("div",{className:"news-meta"},r.a.createElement("p",null,e.author),r.a.createElement("p",null,e.date)))})),r.a.createElement(re.a,{style:{width:"100%"}},"View More"))};var le=function(){var e=Object(n.useContext)(P),t=e.stockRef,a=e.stocks;return r.a.createElement(B.a,{loading:a.loading,active:!0},function(){if(a.data){var e=a.data.stocks;return r.a.createElement(K.a,{gutter:16},r.a.createElement(U.a,{xs:24,lg:18},r.a.createElement(_.a,{className:"stockview-card"},r.a.createElement(J,{stock:e[t]}),r.a.createElement(H,{stock:e[t]})),r.a.createElement(te,{stock:e[t]})),r.a.createElement(U.a,{xs:24,lg:6},r.a.createElement(_.a,{className:"stockview-card",title:"Order"},r.a.createElement(ce,{stock:e[t]})),r.a.createElement(_.a,{className:"stockview-card",title:"News"},r.a.createElement(oe,{stock:e[t]}))))}}())},se=a(721);var ie=function(){var e=Object(n.useState)([{action:"deposit",description:"Deposited $2500.00"},{action:"buy",description:"Bought 4 shares of TSLA @ $410.31 each"},{action:"buy",description:"Bought 3 shares of AAPL @ $119.41 each"},{action:"withdraw",description:"Withdrew $2000.00"},{action:"sell",description:"Sold 2 shares of GOOGL @ $1190.41 each"},{action:"deposit",description:"Deposited $2500.00"},{action:"buy",description:"Bought 4 shares of TSLA @ $410.31 each"},{action:"buy",description:"Bought 3 shares of AAPL @ $119.41 each"},{action:"withdraw",description:"Withdrew $2000.00"},{action:"sell",description:"Sold 2 shares of GOOGL @ $1190.41 each"},{action:"deposit",description:"Deposited $2500.00"},{action:"buy",description:"Bought 4 shares of TSLA @ $410.31 each"},{action:"buy",description:"Bought 3 shares of AAPL @ $119.41 each"}]),t=Object(b.a)(e,1)[0];return r.a.createElement(se.a,null,t.map((function(e,t){return function(e,t){return r.a.createElement(se.a.Item,{color:{withdraw:"gray",deposit:"#40A9FF",buy:"green",sell:"red"}[e.action],id:t},e.description)}(e,t)})))},ue=a(712),me=a(710),de=a(718),pe=a(709),fe=ue.a.Option;var Ee=function(){var e=Object(n.useContext)(P),t=e.stocks,a=e.user,c=e.createOrder,o=Object(n.useRef)(),l=Object(n.useState)(null),s=Object(b.a)(l,2),i=s[0],u=s[1],m=Object(n.useState)(null),d=Object(b.a)(m,2),p=d[0],f=d[1],E=Object(n.useState)(!1),h=Object(b.a)(E,2),g=h[0],v=h[1],k=function(e){var a=o.current.getFieldsValue();if(a.priceType&&"market"!==a.priceType)"limit"===a.priceType&&v(!0);else{v(!1);var n=t.data.stocks[a.symbol];if(!n)return;var r=n.price/100;o.current.setFieldsValue({price:r}),f(r)}};return r.a.createElement(me.a,{layout:"vertical",onFinish:function(){var e=o.current.getFieldsValue(),n={accountID:a.data.user.accounts[0].id,stockID:t.data.stocks[e.symbol].id,action:e.action||"buy",quantity:i};"limit"===e.priceType&&(n.price=100*p),e.goodTill&&(n.expiry=e.goodTill.format()),c(n),o.current.resetFields(),f(null),u(null),v(!1)},ref:o},r.a.createElement(K.a,{gutter:16},r.a.createElement(U.a,{span:8},r.a.createElement(me.a.Item,{label:"Symbol",name:"symbol",rules:[{required:!0,message:"Please select a symbol."}]},function(){if(t.data)return r.a.createElement(ue.a,{id:"symbol",showSearch:!0,optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},onChange:k},t.data.stocks.map((function(e,t){return r.a.createElement(fe,{key:"symbol-option-".concat(t),id:t,value:t},e.ticker)})))}())),r.a.createElement(U.a,{span:8},r.a.createElement(me.a.Item,{label:"Price Type",name:"priceType",rules:[{required:!0,message:"Please select a price type."}]},r.a.createElement(ue.a,{id:"priceType",onChange:k},r.a.createElement(fe,{value:"market"},"Market"),r.a.createElement(fe,{value:"limit"},"Limit")))),r.a.createElement(U.a,{span:8},r.a.createElement(me.a.Item,{label:"Price",name:"price",rules:[{required:!0,message:"Please select a price."}]},r.a.createElement(ae.a,{id:"price",min:0,className:"order-action-group",formatter:function(e){return"$ ".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(e){return e.replace(/\$\s?|(,*)/g,"")},onChange:f,disabled:!g})))),r.a.createElement(K.a,{gutter:16},r.a.createElement(U.a,{span:16},r.a.createElement(me.a.Item,{label:"Action",name:"action"},r.a.createElement(de.a.Group,{id:"action",defaultValue:"buy",className:"order-action-group"},r.a.createElement(de.a.Button,{className:"order-action-btn",value:"buy"},"Buy"),r.a.createElement(de.a.Button,{className:"order-action-btn",value:"sell"},"Sell")))),r.a.createElement(U.a,{span:8},r.a.createElement(me.a.Item,{label:"Quantity",name:"quantity",rules:[{required:!0}]},r.a.createElement(ae.a,{id:"quantity",min:0,className:"order-action-group",onChange:u})))),r.a.createElement(me.a.Item,{label:"Good 'til",name:"goodTill"},r.a.createElement(pe.a,{id:"goodTill",className:"order-action-group"})),r.a.createElement(ne.a,{className:"stockorder-divider"}),r.a.createElement("div",{className:"stockorder-form-item"},r.a.createElement("p",null,"Estimated Total"),r.a.createElement("p",null,"$",p&&i?(p*i).toFixed(2):"0.00")),r.a.createElement(re.a,{type:"primary",htmlType:"submit"},"Confirm Order"))};var he=function(){var e=Object(n.useContext)(P).changeBalance,t=Object(n.useRef)();return r.a.createElement(me.a,{layout:"vertical",onFinish:function(a){var n=a.action&&"deposit"!==a.action?-1:1;e((n*a.amount*100).toFixed(0)),t.current.resetFields()},ref:t},r.a.createElement(K.a,{gutter:16},r.a.createElement(U.a,{span:16},r.a.createElement(me.a.Item,{label:"Action",name:"action"},r.a.createElement(de.a.Group,{id:"action",defaultValue:"deposit",className:"order-action-group"},r.a.createElement(de.a.Button,{className:"order-action-btn",value:"deposit"},"Deposit"),r.a.createElement(de.a.Button,{className:"order-action-btn",value:"withdraw"},"Withdraw")))),r.a.createElement(U.a,{span:8},r.a.createElement(me.a.Item,{label:"Amount",name:"amount"},r.a.createElement(ae.a,{id:"amount",className:"order-action-group",min:0,formatter:function(e){return"$ ".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(e){return e.replace(/\$\s?|(,*)/g,"")}})))),r.a.createElement(re.a,{type:"primary",htmlType:"submit"},"Confirm Transaction"))};var ge=function(){return r.a.createElement("div",null,r.a.createElement(K.a,{gutter:16},r.a.createElement(U.a,{xs:24,lg:18},r.a.createElement(_.a,{className:"stockview-card",title:"Order"},r.a.createElement(Ee,null)),r.a.createElement(_.a,{className:"stockview-card",title:"Manage Funds"},r.a.createElement(he,null))),r.a.createElement(U.a,{xs:24,lg:6},r.a.createElement(_.a,{className:"stockview-card",title:"History"},r.a.createElement(ie,null)))))},be=function(e){return r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/",component:le}),r.a.createElement(s.b,{exact:!0,path:"/home",component:le}),r.a.createElement(s.b,{path:"/home/stock",component:le}),r.a.createElement(s.b,{path:"/home/order",component:ge}))};var ve=function(){var e=Object(n.useContext)(j),t=e.token,a=e.local_auth;return Object(n.useEffect)((function(){a()}),[]),r.a.createElement("div",null,t?r.a.createElement(i.a,{className:"home-layout"},r.a.createElement(G,null),r.a.createElement(Y,null),r.a.createElement(i.a,{className:"view-layout"},r.a.createElement(be,null))):r.a.createElement(s.a,{to:"/auth"}))},ke=a(231),ye=a(715),Oe=a(722),we=a(727);var je=function(e){var t=e.formType,a=Object(n.useContext)(j),c=a.login,o=a.signup,l=a.token,i=Object(n.useRef)(),u=function(){var e=Object(g.a)(h.a.mark((function e(){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.current.getFieldsValue(),e.next=3,{login:c,signup:o}[t](a);case 3:(n=e.sent)&&T.a.error({message:"Authentication Error",description:n});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return""!=l?r.a.createElement(s.a,{to:"/home"}):r.a.createElement("div",null,"login"===t?r.a.createElement(me.a,{onFinish:u,ref:i},r.a.createElement(me.a.Item,{name:"email",rules:[{required:!0,message:"Please input email."}]},r.a.createElement(ye.a,{id:"email",prefix:r.a.createElement(M.a,null),placeholder:"Email"})),r.a.createElement(me.a.Item,{name:"password",rules:[{required:!0,message:"Please input password."}]},r.a.createElement(ye.a,{id:"password",prefix:r.a.createElement(we.a,null),placeholder:"Password",type:"password"})),r.a.createElement(me.a.Item,null,r.a.createElement(me.a.Item,{style:{float:"left"},noStyle:!0},r.a.createElement(Oe.a,{id:"remember"},"Remember me")),r.a.createElement("a",{href:"/",style:{float:"right"}},"Forgot Password?")),r.a.createElement(re.a,{type:"primary",htmlType:"submit",className:"register-button"},"Log In")):r.a.createElement(me.a,{onFinish:u,ref:i},r.a.createElement(me.a.Item,{name:"email",rules:[{required:!0,message:"Please input email."}]},r.a.createElement(ye.a,{id:"email",prefix:r.a.createElement(M.a,null),placeholder:"Email"})),r.a.createElement(me.a.Item,{name:"password",rules:[{required:!0,message:"Please input password."}]},r.a.createElement(ye.a,{id:"password",prefix:r.a.createElement(we.a,null),placeholder:"Password",type:"password"})),r.a.createElement(me.a.Item,{name:"confirm_password",rules:[{required:!0,message:"Please confirm password."}]},r.a.createElement(ye.a,{id:"confirm_password",prefix:r.a.createElement(we.a,null),placeholder:"Confirm Password",type:"password"})),r.a.createElement(re.a,{type:"primary",htmlType:"submit",className:"register-button"},"Sign Up")))},Ie=ke.a.TabPane;var Ne=function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"register-bg"}),r.a.createElement(K.a,{className:"register-page",align:"middle",justify:"center"},r.a.createElement(U.a,{md:12,xs:24},r.a.createElement("div",{className:"register-card"},r.a.createElement("div",{style:{width:"100%"}},r.a.createElement("h1",{className:"register-title"},"fleamarket 52"),r.a.createElement(ke.a,null,r.a.createElement(Ie,{tab:"Login",key:"login"},r.a.createElement(je,{formType:"login"})),r.a.createElement(Ie,{tab:"Signup",key:"signup"},r.a.createElement(je,{formType:"signup"}))),r.a.createElement("p",{className:"register-footer"},"Developed by Shrish Mohapatra for COMP 2406")))),r.a.createElement(U.a,{md:12,xs:0})))},xe=function(e){return r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/",component:ve}),r.a.createElement(s.b,{exact:!0,path:"/auth",component:Ne}),r.a.createElement(s.b,{path:"/home",component:ve}))},Se=a(343),$e=Object(v.createHttpLink)({uri:"http://localhost:8000/api/graph"}),Ce=Object(Se.a)((function(e,t){var a=t.headers,n=localStorage.getItem("token");return{headers:Object(l.a)(Object(l.a)({},a),{},{token:n||""})}})),De=new v.ApolloClient({link:Ce.concat($e),cache:new v.InMemoryCache});var Te=function(){return r.a.createElement(v.ApolloProvider,{client:De},r.a.createElement(I,null,r.a.createElement(q,null,r.a.createElement(u.a,null,r.a.createElement(xe,null)))))};a(702),a(703);var Pe=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(Te,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Pe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[378,1,2]]]);
//# sourceMappingURL=main.47a08cfa.chunk.js.map