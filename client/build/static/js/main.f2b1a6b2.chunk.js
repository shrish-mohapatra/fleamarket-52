(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{337:function(e,t,a){e.exports=a(674)},342:function(e,t,a){},673:function(e,t,a){},674:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(18),o=a.n(c),s=(a(342),a(31)),l=a(676),i=a(65),m=a(685),u=a(692),p=a(693),d=a(694),E=a(20),f=a.n(E),h=a(39),v=a(36),g=a(112),b=a.n(g),k={login:function(){var e=Object(h.a)(f.a.mark((function e(t){var a,r,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,r=t.password,e.prev=1,e.next=4,b.a.post("/api/graph",{query:'\n                {\n                    login(email: "'.concat(a,'",password: "').concat(r,'") {\n                        token\n                        message\n                    }\n                }\n                ')});case 4:if(!(n=e.sent).data.errors){e.next=7;break}return e.abrupt("return",{message:n.data.errors[0].message});case 7:return e.abrupt("return",{token:n.data.data.login.token,userID:n.data.data.login.userID});case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",{message:e.t0.response});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),signup:function(){var e=Object(h.a)(f.a.mark((function e(t){var a,r,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,r=t.password,e.prev=1,e.next=4,b.a.post("/api/graph",{query:'\n                mutation{\n                    signup(email: "'.concat(a,'",password: "').concat(r,'") {\n                        token\n                        message\n                    }\n                }\n                ')});case 4:if(!(n=e.sent).data.errors){e.next=7;break}return e.abrupt("return",{message:n.data.errors[0].message});case 7:return e.abrupt("return",{token:n.data.data.login.token,userID:n.data.data.login.userID});case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",{message:e.t0.response});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},w=Object(r.createContext)({userID:"",token:"",login:function(){return new Promise((function(e){}))},signup:function(){return new Promise((function(e){}))},logout:function(){}}),y=function(e){var t=e.children,a=Object(r.useState)(""),c=Object(v.a)(a,2),o=c[0],s=c[1],l=Object(r.useState)(""),i=Object(v.a)(l,2),m=i[0],u=i[1],p=function(e){if(e.message)return e.message;s(e.userID),u(e.setToken)};return n.a.createElement(w.Provider,{value:{userID:o,token:m,login:function(){var e=Object(h.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.login(t);case 2:return a=e.sent,e.abrupt("return",p(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),signup:function(){var e=Object(h.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.signup(t);case 2:return a=e.sent,e.abrupt("return",p(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),logout:function(){s(""),u("")}}},t)};var O=function(){var e=Object(r.useContext)(w).logout;return n.a.createElement(m.a,{className:"sidebar-menu",mode:"inline",defaultSelectedKeys:["portfolio"]},n.a.createElement(m.a.Item,{key:"portfolio",icon:n.a.createElement(u.a,null)},"Portfolio",n.a.createElement(i.b,{to:"/home/stock"})),n.a.createElement(m.a.Item,{key:"orders",icon:n.a.createElement(p.a,null)},"Orders",n.a.createElement(i.b,{to:"/home/order"})),n.a.createElement(m.a.Item,{key:"logout",icon:n.a.createElement(d.a,null)},"Logout",n.a.createElement(i.b,{to:"/auth",onClick:e})))},N=a(683),x=a(686),j=a(695),S={getUser:function(){var e=Object(h.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.userID,"5f90d652b211944c9ca8b278",e.prev=2,e.next=5,b.a.post("/api/graph",{query:'\n                {\n                    user(id: "'.concat("5f90d652b211944c9ca8b278",'") {\n                        email\n                        accounts{\n                            balance\n                            portfolio{\n                                id\n                                shares\n                            }\n                        }\n                    }\n                }\n                ')});case 5:if(!(a=e.sent).data.errors){e.next=8;break}return e.abrupt("return",{message:a.data.errors[0].message});case 8:return e.abrupt("return",a.data.data.user);case 11:return e.prev=11,e.t0=e.catch(2),e.abrupt("return",{message:e.t0.response});case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},I=Object(r.createContext)({user:null,stockRef:0,stocks:[],selectStock:function(e){},getStocks:function(){return new Promise((function(e){}))}}),T=function(e){var t=e.children,a=Object(r.useContext)(w),c=(a.token,a.userID),o=Object(r.useState)(0),s=Object(v.a)(o,2),l=s[0],i=s[1],m=Object(r.useState)(null),u=Object(v.a)(m,2),p=u[0],d=u[1],E=Object(r.useState)([{ticker:"AAPL",name:"Apple Inc.",change:-3.34,price:113.16,shares:15,open:115.75,ask:113.16,bid:113.12,high:115.94,low:108.66,volume:"7.8 M"},{ticker:"TSLA",name:"Tesla Inc.",change:2.75,price:413.98,shares:4,open:410.44,ask:413.96,bid:413.12,high:425.94,low:397.66,volume:"2.8 M"},{ticker:"MSFT",name:"Microsoft",change:-2.12,price:205.91,shares:7,open:207.75,ask:205.16,bid:205.12,high:212.94,low:192.66,volume:"9.4 M"},{ticker:"GOOGL",name:"Google",change:2.15,price:1451.02,shares:2,open:1475.5,ask:14751.02,bid:1475.98,high:1474.94,low:1460.66,volume:"1.7 M"}]),g=Object(v.a)(E,2),b=g[0],k=g[1];return n.a.createElement(I.Provider,{value:{user:p,stockRef:l,stocks:b,getUser:function(){var e=Object(h.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.getUser({userID:c});case 2:if(!(t=e.sent).message){e.next=5;break}return e.abrupt("return",!1);case 5:d(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),selectStock:function(e){i(e)},getStocks:function(){var e=Object(h.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k([]);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}},t)};var C=function(){var e=Object(r.useContext)(I),t=e.user,a=e.getUser;return Object(r.useEffect)((function(){t||a()}),[]),n.a.createElement("div",{className:"profile"},n.a.createElement(N.a,{loading:!t,active:!0},n.a.createElement(x.a,{className:"profile-avatar",size:48,shape:"square",icon:n.a.createElement(j.a,null)}),function(){if(t)return n.a.createElement("div",{className:"profile-info"},n.a.createElement("p",{className:"info-name"},t.email),n.a.createElement("p",{className:"info-balance"},"$",t.accounts[0].balance))}()))},A=l.a.Sider;var P=function(){return n.a.createElement(A,{className:"sidebar",theme:"light",trigger:null},n.a.createElement("div",{className:"sidebar-header"},n.a.createElement("p",null,"fleamarket 52")),n.a.createElement("div",{className:"sidebar-content"},n.a.createElement(O,null),n.a.createElement(C,null)))};var $=function(e){var t=e.props,a=t.stock,c=t.index,o=Object(r.useContext)(I),s=o.selectStock,l=o.stockRef;return n.a.createElement("div",{className:c===l?"stockcard-selected":"stockcard",onClick:function(){return s(c)}},n.a.createElement("p",{className:"stockcard-ticker"},a.ticker),function(e){var t=e>0?"green":"red",a=(e>0?"+":"-")+Math.abs(e);return n.a.createElement("p",{className:"stockcard-change",style:{color:t},key:"stockchange-".concat(c)},a,"%")}(a.change),n.a.createElement("p",{className:"stockcard-price"},"$",a.price," x ",a.shares))},B=l.a.Sider;var D=function(){var e=Object(r.useContext)(I).stocks;return n.a.createElement(B,{className:"stockbar",theme:"light",trigger:null},n.a.createElement("div",{className:"stockbar-menu"},e.map((function(e,t){return n.a.createElement($,{key:"stockcard-".concat(t),props:{stock:e,index:t}})}))))},L=a(106),M=a(55),F=a(689);var q=function(e){var t=e.stock;return n.a.createElement("div",{className:"stockview-header"},n.a.createElement("div",null,n.a.createElement("p",{className:"stockview-title"},t.name),n.a.createElement("p",{className:"stockview-shares"},"You own ",t.shares," shares of ",t.ticker,".")),n.a.createElement("div",null,n.a.createElement("p",{className:"stockview-price"},"$",t.price),function(e){var t=e.change,a=e.price,r=t>0?"green":"red",c=t>0?"+":"-",o=Math.abs(t),s=c+"$"+(o*a*.01).toFixed(2);return n.a.createElement("p",{className:"stockview-change",style:{color:r,textAlign:"right"}},s," (",o,"%)")}(t)))},G=a(78);var V=function(e){var t=e.stock,a=Object(r.useState)([]),c=Object(v.a)(a,2),o=c[0],s=c[1];return Object(r.useEffect)((function(){for(var e=[],a=0;a<13;a++){var r=Math.random()*(10*t.price)*.01;e.push({name:"Oct ".concat(a+1),price:(r+t.price).toFixed(2)})}e.push({name:"Oct 14",price:t.price}),s(e)}),[t]),n.a.createElement(G.d,{height:300,width:"99%"},n.a.createElement(G.b,{data:o},n.a.createElement("defs",null,n.a.createElement("linearGradient",{id:"colorStock",x1:"0",y1:"0",x2:"0",y2:"1"},n.a.createElement("stop",{offset:"5%",stopColor:"#BA9781",stopOpacity:.8}),n.a.createElement("stop",{offset:"95%",stopColor:"#BA9781",stopOpacity:0}))),n.a.createElement(G.c,{strokeDasharray:"3 3"}),n.a.createElement(G.f,{dataKey:"name"}),n.a.createElement(G.g,{type:"number",domain:["dataMin - 10","dataMax + 10"]}),n.a.createElement(G.e,null),n.a.createElement(G.a,{type:"monotone",dataKey:"price",stroke:"#BA9781",fillOpacity:1,fill:"url(#colorStock)"})))},R=a(688),U=R.a.Item,W=["open","ask","bid","high","low","volume"];var J=function(e){var t=e.stock;return n.a.createElement(R.a,{className:"stockview-stats",layout:"vertical",bordered:!0},W.map((function(e,a){return n.a.createElement(U,{label:e.charAt(0).toUpperCase()+e.slice(1),key:"desc-item-".concat(a)},t[e]?t[e]:"N/A")})))},K=a(682),z=a(677),Y=a(119);var _=function(e){var t=e.stock,a=Object(r.useState)(0),c=Object(v.a)(a,2),o=c[0],s=c[1];return n.a.createElement("div",{className:"stockview-order-form"},n.a.createElement("div",{className:"stockorder-form-item"},n.a.createElement("p",null,"Shares"),n.a.createElement(K.a,{className:"stockorder-input",onChange:function(e){return s(e)},size:"small",min:0,max:99})),n.a.createElement("div",{className:"stockorder-form-item"},n.a.createElement("p",null,"Market Price"),n.a.createElement("p",null,"$",t.price)),n.a.createElement(z.a,{className:"stockorder-divider"}),n.a.createElement("div",{className:"stockorder-form-item"},n.a.createElement("p",null,"Total Cost"),n.a.createElement("p",null,"$",(o*t.price).toFixed(2))),n.a.createElement(Y.a,{style:{width:"100%"},type:"primary"},"Confirm Order"))};var H=function(e){var t=e.stock,a=Object(r.useState)([]),c=Object(v.a)(a,2),o=c[0],s=c[1];return Object(r.useEffect)((function(){var e=[{headline:"".concat(t.name," declares 4:1 stock split..."),author:"The Verge",date:"Oct 1"},{headline:"".concat(t.name," slumps at keynote event..."),author:"Wall Street Journal",date:"Oct 3"},{headline:"Big investor sells ".concat(t.name," shares..."),author:"The Verge",date:"Oct 3"},{headline:"".concat(t.name," announces new CEO amid..."),author:"New York Times",date:"Oct 4"},{headline:"".concat(t.name," underfire for insider trading..."),author:"The Verge",date:"Oct 5"},{headline:"".concat(t.name," bounces back from slump..."),author:"The Verge",date:"Oct 5"},{headline:"".concat(t.name," announces new device..."),author:"The Verge",date:"Oct 7"}];s(e)}),[t]),n.a.createElement("div",{className:"stockview-news"},o.reverse().map((function(e,t){return n.a.createElement("div",{className:"news-card",key:"stockview-".concat(t)},n.a.createElement("p",null,e.headline),n.a.createElement("div",{className:"news-meta"},n.a.createElement("p",null,e.author),n.a.createElement("p",null,e.date)))})),n.a.createElement(Y.a,{style:{width:"100%"}},"View More"))};var Q=function(){var e=Object(r.useContext)(I),t=e.stockRef,a=e.stocks;return n.a.createElement("div",null,n.a.createElement(L.a,{gutter:16},n.a.createElement(M.a,{xs:24,lg:18},n.a.createElement(F.a,{className:"stockview-card"},n.a.createElement(q,{stock:a[t]}),n.a.createElement(V,{stock:a[t]})),n.a.createElement(J,{stock:a[t]})),n.a.createElement(M.a,{xs:24,lg:6},n.a.createElement(F.a,{className:"stockview-card",title:"Order"},n.a.createElement(_,{stock:a[t]})),n.a.createElement(F.a,{className:"stockview-card",title:"News"},n.a.createElement(H,{stock:a[t]})))))},X=a(690);var Z=function(){var e=Object(r.useState)([{action:"deposit",description:"Deposited $2500.00"},{action:"buy",description:"Bought 4 shares of TSLA @ $410.31 each"},{action:"buy",description:"Bought 3 shares of AAPL @ $119.41 each"},{action:"withdraw",description:"Withdrew $2000.00"},{action:"sell",description:"Sold 2 shares of GOOGL @ $1190.41 each"},{action:"deposit",description:"Deposited $2500.00"},{action:"buy",description:"Bought 4 shares of TSLA @ $410.31 each"},{action:"buy",description:"Bought 3 shares of AAPL @ $119.41 each"},{action:"withdraw",description:"Withdrew $2000.00"},{action:"sell",description:"Sold 2 shares of GOOGL @ $1190.41 each"},{action:"deposit",description:"Deposited $2500.00"},{action:"buy",description:"Bought 4 shares of TSLA @ $410.31 each"},{action:"buy",description:"Bought 3 shares of AAPL @ $119.41 each"}]),t=Object(v.a)(e,1)[0];return n.a.createElement(X.a,null,t.map((function(e,t){return function(e,t){return n.a.createElement(X.a.Item,{color:{withdraw:"gray",deposit:"#40A9FF",buy:"green",sell:"red"}[e.action],id:t},e.description)}(e,t)})))},ee=a(681),te=a(679),ae=a(687),re=a(678),ne=ee.a.Option;var ce=function(){var e=Object(r.useContext)(I).stocks;return n.a.createElement(te.a,{layout:"vertical"},n.a.createElement(L.a,{gutter:16},n.a.createElement(M.a,{span:12},n.a.createElement(te.a.Item,{label:"Symbol",name:"symbol"},n.a.createElement(ee.a,{id:"symbol",showSearch:!0,optionFilterProp:"children",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0}},e.map((function(e,t){return n.a.createElement(ne,{id:t,value:t},e.ticker)}))))),n.a.createElement(M.a,{span:12},n.a.createElement(te.a.Item,{label:"Price Type",name:"priceType"},n.a.createElement(ee.a,{id:"priceType"},n.a.createElement(ne,{value:"market"},"Market"),n.a.createElement(ne,{value:"limit"},"Limit"))))),n.a.createElement(L.a,{gutter:16},n.a.createElement(M.a,{span:16},n.a.createElement(te.a.Item,{label:"Action",name:"action"},n.a.createElement(ae.a.Group,{id:"action",defaultValue:"buy",className:"order-action-group"},n.a.createElement(ae.a.Button,{className:"order-action-btn",value:"buy"},"Buy"),n.a.createElement(ae.a.Button,{className:"order-action-btn",value:"sell"},"Sell")))),n.a.createElement(M.a,{span:8},n.a.createElement(te.a.Item,{label:"Quantity",name:"quantity"},n.a.createElement(K.a,{id:"quantity",className:"order-action-group",min:0})))),n.a.createElement(te.a.Item,{label:"Good 'til",name:"goodTill"},n.a.createElement(re.a,{id:"goodTill",className:"order-action-group"})),n.a.createElement(z.a,{className:"stockorder-divider"}),n.a.createElement("div",{className:"stockorder-form-item"},n.a.createElement("p",null,"Total Cost"),n.a.createElement("p",null,"$0.00")),n.a.createElement(Y.a,{type:"primary",htmlType:"submit"},"Confirm Order"))};var oe=function(){return n.a.createElement(te.a,{layout:"vertical"},n.a.createElement(L.a,{gutter:16},n.a.createElement(M.a,{span:16},n.a.createElement(te.a.Item,{label:"Action",name:"action"},n.a.createElement(ae.a.Group,{id:"action",defaultValue:"deposit",className:"order-action-group"},n.a.createElement(ae.a.Button,{className:"order-action-btn",value:"deposit"},"Deposit"),n.a.createElement(ae.a.Button,{className:"order-action-btn",value:"withdraw"},"Withdraw")))),n.a.createElement(M.a,{span:8},n.a.createElement(te.a.Item,{label:"Amount",name:"amount"},n.a.createElement(K.a,{id:"amount",className:"order-action-group",min:0})))),n.a.createElement(Y.a,{type:"primary",htmlType:"submit"},"Confirm Transaction"))};var se=function(){return n.a.createElement("div",null,n.a.createElement(L.a,{gutter:16},n.a.createElement(M.a,{xs:24,lg:18},n.a.createElement(F.a,{className:"stockview-card",title:"Order"},n.a.createElement(ce,null)),n.a.createElement(F.a,{className:"stockview-card",title:"Manage Funds"},n.a.createElement(oe,null))),n.a.createElement(M.a,{xs:24,lg:6},n.a.createElement(F.a,{className:"stockview-card",title:"History"},n.a.createElement(Z,null)))))},le=function(e){return n.a.createElement(s.d,null,n.a.createElement(s.b,{exact:!0,path:"/",component:Q}),n.a.createElement(s.b,{exact:!0,path:"/home",component:Q}),n.a.createElement(s.b,{path:"/home/stock",component:Q}),n.a.createElement(s.b,{path:"/home/order",component:se}))};var ie=function(){return n.a.createElement(l.a,{className:"home-layout"},n.a.createElement(P,null),n.a.createElement(D,null),n.a.createElement(l.a,{className:"view-layout"},n.a.createElement(le,null)))},me=a(199),ue=a(680),pe=a(684),de=a(691),Ee=a(696);var fe=function(e){var t=e.formType,a=Object(r.useContext)(w),c=a.login,o=a.signup,l=a.userID,i=Object(r.useRef)(),m=function(){var e=Object(h.a)(f.a.mark((function e(){var a,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.current.getFieldsValue(),e.next=3,{login:c,signup:o}[t](a);case 3:(r=e.sent)&&ue.a.error({message:"Authentication Error",description:r});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return""!=l?n.a.createElement(s.a,{to:"/home"}):n.a.createElement("div",null,"login"===t?n.a.createElement(te.a,{onFinish:m,ref:i},n.a.createElement(te.a.Item,{name:"email",rules:[{required:!0,message:"Please input email."}]},n.a.createElement(pe.a,{id:"email",prefix:n.a.createElement(j.a,null),placeholder:"Email"})),n.a.createElement(te.a.Item,{name:"password",rules:[{required:!0,message:"Please input password."}]},n.a.createElement(pe.a,{id:"password",prefix:n.a.createElement(Ee.a,null),placeholder:"Password",type:"password"})),n.a.createElement(te.a.Item,null,n.a.createElement(te.a.Item,{style:{float:"left"},noStyle:!0},n.a.createElement(de.a,{id:"remember"},"Remember me")),n.a.createElement("a",{href:"/",style:{float:"right"}},"Forgot Password?")),n.a.createElement(Y.a,{type:"primary",htmlType:"submit",className:"register-button"},"Log In")):n.a.createElement(te.a,{onFinish:m,ref:i},n.a.createElement(te.a.Item,{name:"email",rules:[{required:!0,message:"Please input email."}]},n.a.createElement(pe.a,{id:"email",prefix:n.a.createElement(j.a,null),placeholder:"Email"})),n.a.createElement(te.a.Item,{name:"password",rules:[{required:!0,message:"Please input password."}]},n.a.createElement(pe.a,{id:"password",prefix:n.a.createElement(Ee.a,null),placeholder:"Password",type:"password"})),n.a.createElement(te.a.Item,{name:"confirm_password",rules:[{required:!0,message:"Please confirm password."}]},n.a.createElement(pe.a,{id:"confirm_password",prefix:n.a.createElement(Ee.a,null),placeholder:"Confirm Password",type:"password"})),n.a.createElement(Y.a,{type:"primary",htmlType:"submit",className:"register-button"},"Sign Up")))},he=me.a.TabPane;var ve=function(){return n.a.createElement("div",null,n.a.createElement("div",{className:"register-bg"}),n.a.createElement(L.a,{className:"register-page",align:"middle",justify:"center"},n.a.createElement(M.a,{md:12,xs:24},n.a.createElement("div",{className:"register-card"},n.a.createElement("div",{style:{width:"100%"}},n.a.createElement("h1",{className:"register-title"},"fleamarket 52"),n.a.createElement(me.a,null,n.a.createElement(he,{tab:"Login",key:"login"},n.a.createElement(fe,{formType:"login"})),n.a.createElement(he,{tab:"Signup",key:"signup"},n.a.createElement(fe,{formType:"signup"}))),n.a.createElement("p",{className:"register-footer"},"Developed by Shrish Mohapatra for COMP 2406")))),n.a.createElement(M.a,{md:12,xs:0})))},ge=function(e){return n.a.createElement(s.d,null,n.a.createElement(s.b,{exact:!0,path:"/",component:ie}),n.a.createElement(s.b,{exact:!0,path:"/auth",component:ve}),n.a.createElement(s.b,{path:"/home",component:ie}))};var be=function(){return n.a.createElement(y,null,n.a.createElement(T,null,n.a.createElement(i.a,null,n.a.createElement(ge,null))))};a(672),a(673);var ke=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(be,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(ke,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[337,1,2]]]);
//# sourceMappingURL=main.f2b1a6b2.chunk.js.map